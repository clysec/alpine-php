on:
  push:
    branches:
      - disabled
  # schedule:
  #   - cron: '10 3 * * 0'
      
      

jobs:
  build-base:
    permissions:
      contents: read
      packages: write
      id-token: write
    uses: clysec/alpine-php/.github/workflows/base.yml@main
    with:
      php_version: "8.4"
      alpine_version: "3.22"
      variant: ""
    secrets:
      X_GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      X_DOCKERHUB_USER: ${{ secrets.DOCKERHUB_USERNAME }}
      X_DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_PASSWORD }}
      X_CYCR_USER: ${{ secrets.CYCR_ALPINE_USER }}
      X_CYCR_KEY: ${{ secrets.CYCR_ALPINE_KEY }}

  build-devcontainer:
    permissions:
      contents: read
      packages: write
      id-token: write
    uses: clysec/alpine-php/.github/workflows/base.yml@main
    with:
      php_version: "8.4"
      alpine_version: "3.22"
      variant: "devcontainer"
    secrets:
      X_GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      X_DOCKERHUB_USER: ${{ secrets.DOCKERHUB_USERNAME }}
      X_DOCKERHUB_TOKEN: ${{ secrets.DOCKERHUB_PASSWORD }}
      X_CYCR_USER: ${{ secrets.CYCR_ALPINE_USER }}
      X_CYCR_KEY: ${{ secrets.CYCR_ALPINE_KEY }}